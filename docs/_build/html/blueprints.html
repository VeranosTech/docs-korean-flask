
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>블루프린트를 사용한 모듈형 애플리케이션 &#8212; Flask Documentation (1.0.x)</title>
    <link rel="stylesheet" href="_static/flask.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="shortcut icon" href="_static/flask-icon.png"/>
    <link rel="index" title="색인" href="genindex.html" />
    <link rel="search" title="검색" href="search.html" />
    <link rel="next" title="Extensions" href="extensions.html" />
    <link rel="prev" title="The Request Context" href="reqcontext.html" />
  <script>DOCUMENTATION_OPTIONS.URL_ROOT = './';</script>
   
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>탐색</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="전체 색인"
             accesskey="I">색인</a></li>
        <li class="right" >
          <a href="extensions.html" title="Extensions"
             accesskey="N">다음</a> |</li>
        <li class="right" >
          <a href="reqcontext.html" title="The Request Context"
             accesskey="P">이전</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Flask Documentation (1.0.x)</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="modular-applications-with-blueprints">
<span id="blueprints"></span><h1>블루프린트를 사용한 모듈형 애플리케이션<a class="headerlink" href="#modular-applications-with-blueprints" title="제목 주소">¶</a></h1>
<div class="versionadded">
<p><span class="versionmodified">버전 0.7에 추가.</span></p>
</div>
<details class="changelog">
<summary>Changelog</summary></details><p>플라스크는 애플리케이션 컴포넌트를 만들고 애플리케이션내 혹은 여러 애플리케이션에 걸친 공통 패턴을 지원하기 위해 <em>블루프린트</em>라는 개념을 사용한다. 블루프린트는 대규모 애플리케이션의 동작을 단순하게 만들면서 애플리케이션에 다양한 기능을 등록할 수 있는 확장 프로그램을 만드는 수단을 제공한다. <a class="reference internal" href="api.html#flask.Blueprint" title="flask.Blueprint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blueprint</span></code></a> 클래스 객체는 <a class="reference internal" href="api.html#flask.Flask" title="flask.Flask"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flask</span></code></a> 애플리케이션 객체와 비슷하게 동작한다. 하지만 실제로는 애플리케이션이 아니라 애플리케이션을 생성하거나 확장하기 위한 청사진에 지나지 않는다.</p>
<div class="section" id="why-blueprints">
<h2>왜 블루프린트를 사용하는가?<a class="headerlink" href="#why-blueprints" title="제목 주소">¶</a></h2>
<p>플라스크에서는 다음과 같은 경우에 블루프린트를 사용한다:</p>
<ul class="simple">
<li>애플리케이션을 여러개의 블루프린트로 나눈다. 이 방식은 대규모 애플리케이션에 적당하다. 하나의 프로젝트에서 하나의 애플리케이션 객체를 초기화한 다음에 여러개의 확장프로그램을 초기화하고 블루프린트를 등록한다.</li>
<li>블루프린트를 애플리케이션의 특정 URL 접미사로 혹은 서브도메인으로 등록한다. URL 접미사/서브도메인 파라미터는 블루프린트 내의 모든 뷰 함수에 대해 공통 디폴트 뷰 인수가 된다.</li>
<li>하나의 블루프린트를 하나의 애플리케이션에 다른 URL로 여러번 등록할 수도 있다.</li>
<li>템플릿 필터, 스태틱 파일, 템플릿, 그외 다른 유틸리티들을 블루프린트로 제공할 수도 있다. 블루프린트는 반드시 애플리케이션이나 뷰 함수를 구현할 필요는 없다.</li>
<li>플라스크 확장 프로그램을 초기화 할 때 블루프린트를 등록할 수 있다.</li>
</ul>
<p>블루프린트는 애플리케이션이 아니기 때문에 플러그 앱이라고 할 수 없다. 블루프린트는 앱에 한 번 이상 등록할 수 있는 오퍼레이션 집합일 뿐이다. 복수의 애플리케이션 객체도 가능하다. (<a class="reference internal" href="patterns/appdispatch.html#app-dispatch"><span class="std std-ref">Application Dispatching</span></a> 참조) 하지만 애플리케이션이 별도의 설정을 가지고 WSGI 레이어에서 관리할 수 있어야 한다.</p>
<p>대신에 블루프린트는 애플리케이션 설정을 공유하고 필요에 따라 애플리케이션 객체를 변경할 수 있다. 단점은 일단 애플리케이션이 생성되고 블루프린트를 등록하면 전체 애플리케이션 객체를 없애지 않고서는 블루프린트를 등록해제할 수 없다는 점이다.</p>
</div>
<div class="section" id="the-concept-of-blueprints">
<h2>블루프린트의 개념<a class="headerlink" href="#the-concept-of-blueprints" title="제목 주소">¶</a></h2>
<p>블루프린트의 기본 개념은 애플리케이션에 등록될 때 실행할 동작을 기록한다는 것이다. 플라스크는 리쿼스트를 받거나 엔드포인트 URL을 생성할 때 블루프린트와 뷰 함수를 연결한다.</p>
</div>
<div class="section" id="my-first-blueprint">
<h2>첫번째 블루프린트<a class="headerlink" href="#my-first-blueprint" title="제목 주소">¶</a></h2>
<p>이 블루프린트는 아주 기본적인 것이다. 여기에서는 스테틱 템플릿을 렌더링하는 단순한 블루프린트를 구현한다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask</span> <span class="k">import</span> <span class="n">Blueprint</span><span class="p">,</span> <span class="n">render_template</span><span class="p">,</span> <span class="n">abort</span>
<span class="kn">from</span> <span class="nn">jinja2</span> <span class="k">import</span> <span class="n">TemplateNotFound</span>

<span class="n">simple_page</span> <span class="o">=</span> <span class="n">Blueprint</span><span class="p">(</span><span class="s1">&#39;simple_page&#39;</span><span class="p">,</span> <span class="vm">__name__</span><span class="p">,</span>
                        <span class="n">template_folder</span><span class="o">=</span><span class="s1">&#39;templates&#39;</span><span class="p">)</span>

<span class="nd">@simple_page</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="n">defaults</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;page&#39;</span><span class="p">:</span> <span class="s1">&#39;index&#39;</span><span class="p">})</span>
<span class="nd">@simple_page</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&lt;page&gt;&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="n">page</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;pages/</span><span class="si">%s</span><span class="s1">.html&#39;</span> <span class="o">%</span> <span class="n">page</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">TemplateNotFound</span><span class="p">:</span>
        <span class="n">abort</span><span class="p">(</span><span class="mi">404</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">&#64;simple_page.route</span></code>의 도움으로 함수를 바인드시키면 블루프린트는 함수 <code class="docutils literal notranslate"><span class="pre">show</span></code>를 애플리케이션에 등록할 것이라는 정보를 기록한다. 나중에 실제로 등록을 하면 함수의 엔트포인트 앞에 <a class="reference internal" href="api.html#flask.Blueprint" title="flask.Blueprint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blueprint</span></code></a> 클래스 생성자로 넘긴 블루프린트 이름을 접미사로 붙인다. 블루프린트 이름은 엔드포인트만 바꾸고 URL을 바꾸지는 않는다.</p>
</div>
<div class="section" id="registering-blueprints">
<h2>블루프린트 등록<a class="headerlink" href="#registering-blueprints" title="제목 주소">¶</a></h2>
<p>블루프린트를 등록하는 방법은 다음과 같다.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask</span> <span class="k">import</span> <span class="n">Flask</span>
<span class="kn">from</span> <span class="nn">yourapplication.simple_page</span> <span class="k">import</span> <span class="n">simple_page</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">register_blueprint</span><span class="p">(</span><span class="n">simple_page</span><span class="p">)</span>
</pre></div>
</div>
<p>만약 애플리케이션에 등록된 URL 규칙을 확인하고 싶다면:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span><span class="o">.</span><span class="n">url_map</span>
<span class="go">Map([&lt;Rule &#39;/static/&lt;filename&gt;&#39; (HEAD, OPTIONS, GET) -&gt; static&gt;,</span>
<span class="go"> &lt;Rule &#39;/&lt;page&gt;&#39; (HEAD, OPTIONS, GET) -&gt; simple_page.show&gt;,</span>
<span class="go"> &lt;Rule &#39;/&#39; (HEAD, OPTIONS, GET) -&gt; simple_page.show&gt;])</span>
</pre></div>
</div>
<p>첫번째 규칙은 스태틱 항목에 대한 애플리케이션 자체 규칙이고 다른 두개는 <code class="docutils literal notranslate"><span class="pre">simple_page</span></code> 블루프린트의 <cite>show</cite> 함수에 대한 것이다. 블루프린트 이름 접미사가 점으로 구분되어 있는 것을 볼 수 있다.</p>
<p>블루프린트는 다른 장소에 마운트할 수도 있다:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">register_blueprint</span><span class="p">(</span><span class="n">simple_page</span><span class="p">,</span> <span class="n">url_prefix</span><span class="o">=</span><span class="s1">&#39;/pages&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>생성된 URL 규칙:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span><span class="o">.</span><span class="n">url_map</span>
<span class="go">Map([&lt;Rule &#39;/static/&lt;filename&gt;&#39; (HEAD, OPTIONS, GET) -&gt; static&gt;,</span>
<span class="go"> &lt;Rule &#39;/pages/&lt;page&gt;&#39; (HEAD, OPTIONS, GET) -&gt; simple_page.show&gt;,</span>
<span class="go"> &lt;Rule &#39;/pages/&#39; (HEAD, OPTIONS, GET) -&gt; simple_page.show&gt;])</span>
</pre></div>
</div>
<p>모든 블루프린트를 여러번 등록할 수 있는 것은 아니다. 블루프린트를 여러번 마운트하려면 그게 가능하도록 구현해야 한다.</p>
</div>
<div class="section" id="blueprint-resources">
<h2>블루프린트 리소스<a class="headerlink" href="#blueprint-resources" title="제목 주소">¶</a></h2>
<p>블루프린트도 리소스를 제공할 수 있다. 블루프린트만 전용 리소스를 제공할 수도 있다.</p>
<div class="section" id="blueprint-resource-folder">
<h3>블루프린트 리소스 폴더<a class="headerlink" href="#blueprint-resource-folder" title="제목 주소">¶</a></h3>
<p>일반 애플리케이션처럼 블루프린트도 하나의 폴더 안에 담겨져 있어야 한다. 여러개의 블루프린트를 한 폴더에서 불러올 수도 있지만 권장하지는 않는다.</p>
<p>폴더 경로는 <a class="reference internal" href="api.html#flask.Blueprint" title="flask.Blueprint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blueprint</span></code></a> 클래스 생성자의 두번째 인수에서 유추한다. 이 값은 보통 <cite>__name__</cite>이다. 이 인수는 블루프린트에 해당하는 파이썬 모듈이나 패키지를 지정한다. 만약 이 값이 패키지이면 그 패키지 폴더 자체가 리소스 폴더가 되고 이 값이 모듈이면 그 모듈을 포함하는 폴더가 리소스 폴더가 된다. 이 리소스 폴더의 경우는 <a class="reference internal" href="api.html#flask.Blueprint.root_path" title="flask.Blueprint.root_path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Blueprint.root_path</span></code></a> 속성에서 볼 수 있다.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">simple_page</span><span class="o">.</span><span class="n">root_path</span>
<span class="go">&#39;/Users/username/TestProject/yourapplication&#39;</span>
</pre></div>
</div>
<p>이 폴더의 소스에 접근하려면 <a class="reference internal" href="api.html#flask.Blueprint.open_resource" title="flask.Blueprint.open_resource"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open_resource()</span></code></a> 함수를 사용한다.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">simple_page</span><span class="o">.</span><span class="n">open_resource</span><span class="p">(</span><span class="s1">&#39;static/style.css&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">code</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="static-files">
<h3>스태틱 파일<a class="headerlink" href="#static-files" title="제목 주소">¶</a></h3>
<p>블루프린트는 <code class="docutils literal notranslate"><span class="pre">static_folder</span></code> 인수로 받은 파일시스템 폴더 패스를 스태틱 파일 폴더로 정한다. 절대경로일 수도 있고 블루프린트 위치에 대한 상대경로일 수도 있다.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">admin</span> <span class="o">=</span> <span class="n">Blueprint</span><span class="p">(</span><span class="s1">&#39;admin&#39;</span><span class="p">,</span> <span class="vm">__name__</span><span class="p">,</span> <span class="n">static_folder</span><span class="o">=</span><span class="s1">&#39;static&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>디폴트로 패스의 가장 오른쪽 부분이 웹에 노출된다. 이 값은 <code class="docutils literal notranslate"><span class="pre">static_url_path</span></code> 인수로 바꿀 수 있다. 위 예에서는 폴더가 <code class="docutils literal notranslate"><span class="pre">static</span></code> 이므로 블루프린트의 <code class="docutils literal notranslate"><span class="pre">url_prefix</span></code> + <code class="docutils literal notranslate"><span class="pre">/static</span></code>이 된다. 만약 블루프린트의 접두사가 <code class="docutils literal notranslate"><span class="pre">/admin</span></code>이면 스태틱 url은 <code class="docutils literal notranslate"><span class="pre">/admin/static</span></code>이 된다.</p>
<p>엔트포인트 이름은 <code class="docutils literal notranslate"><span class="pre">blueprint_name.static</span></code>이 된다. 애플리케이션에서 처럼 <a class="reference internal" href="api.html#flask.url_for" title="flask.url_for"><code class="xref py py-func docutils literal notranslate"><span class="pre">url_for()</span></code></a>  함수로 URL을 얻을 수 있다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;admin.static&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;style.css&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>하지만 블루프린트에 <code class="docutils literal notranslate"><span class="pre">url_prefix</span></code>이 없으면 블루프린트 전용 스태틱 폴더는 접근할 수 없다. 이 때는 URL이 그냥 <code class="docutils literal notranslate"><span class="pre">/static</span></code>이고 애플리케이션의 <code class="docutils literal notranslate"><span class="pre">/static</span></code> 루트가 더 우선권을 가진다. 템플릿 폴더와 달리 애플리케이션 스태틱 폴더에 파일이 없으면 블루프린트 스태틱 폴더까지 검색하지 않는다.</p>
</div>
<div class="section" id="templates">
<h3>템플릿<a class="headerlink" href="#templates" title="제목 주소">¶</a></h3>
<p>블루프린트 생성자 <a class="reference internal" href="api.html#flask.Blueprint" title="flask.Blueprint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blueprint</span></code></a>에 <cite>template_folder</cite> 인수를 넣으면 전용 템플릿을 사용할 수 있다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">admin</span> <span class="o">=</span> <span class="n">Blueprint</span><span class="p">(</span><span class="s1">&#39;admin&#39;</span><span class="p">,</span> <span class="vm">__name__</span><span class="p">,</span> <span class="n">template_folder</span><span class="o">=</span><span class="s1">&#39;templates&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>스태틱 파일에서는 경로가 절대 경로이든 블루프린트에 대한 상대경로이든 상관없었다.</p>
<p>템플릿 폴더는 탬플릿 검색 경로에 추가되지만 애플리케이션의 템플릿 폴더보다 우선 순위가 낮다. 따라서 블루프린트의 템플릿을 애플리케이션 템플릿으로 쉽게 오버라이드 할 수 있다. 오버라이드 되길 원치 않는다면 애플리케이션이나 다른 블루프린트의 상대경로를 다르게 만들어야 한다. 여러개의 블루프린트가 똑같은 상대경로를 가지면 가장 먼저 등록된 블루프린트가 우선권을 가진다.</p>
<p>따라서 블루프린트 폴더가 <code class="docutils literal notranslate"><span class="pre">yourapplication/admin</span></code>이고 템플릿 <code class="docutils literal notranslate"><span class="pre">'admin/index.html'</span></code>을 만들고 싶으면 우선 <code class="docutils literal notranslate"><span class="pre">templates</span></code>을 <cite>template_folder</cite>로 지정하고 <code class="file docutils literal notranslate"><span class="pre">yourapplication/admin/templates/admin/index.html</span></code>처럼 파일을 만들어야 한다. <code class="docutils literal notranslate"><span class="pre">admin</span></code> 폴더가 추가로 들어가는 이유는 실제 애플리케이션 템플릿 폴더의 <cite>index.html`</cite> 템플릿에 오버라이드되지 않도록 하기 위함이다.</p>
<p>다시 정리하자면 <code class="docutils literal notranslate"><span class="pre">admin</span></code> 블루프린트에 <code class="file docutils literal notranslate"><span class="pre">index.html</span></code> 템플릿을 넣고 싶으면 가장 좋은 방법은 템플릿 구조를 다음처럼 만드는 것이다.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">yourpackage</span><span class="o">/</span>
    <span class="n">blueprints</span><span class="o">/</span>
        <span class="n">admin</span><span class="o">/</span>
            <span class="n">templates</span><span class="o">/</span>
                <span class="n">admin</span><span class="o">/</span>
                    <span class="n">index</span><span class="o">.</span><span class="n">html</span>
            <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>그리고 템플릿을 렌더링할 때는 템플릿 이름으로 <code class="file docutils literal notranslate"><span class="pre">admin/index.html</span></code>를 사용한다. 만약 템플릿을 로딩하다가 문제가 생기면 <code class="docutils literal notranslate"><span class="pre">EXPLAIN_TEMPLATE_LOADING</span></code> 설정값으로 모든 <code class="docutils literal notranslate"><span class="pre">render_template</span></code> 호출에 대해 플라스크가 템플릿을 찾는 과정을 출력하도록 할 수 있다.</p>
</div>
</div>
<div class="section" id="building-urls">
<h2>URL 생성<a class="headerlink" href="#building-urls" title="제목 주소">¶</a></h2>
<p>다른 페이지에 대한 링크를 만들고 싶으면 <a class="reference internal" href="api.html#flask.url_for" title="flask.url_for"><code class="xref py py-func docutils literal notranslate"><span class="pre">url_for()</span></code></a> 함수를 쓰되 엔드포인트 앞에 블루프린트 이름을 쓰고 점을 찍는다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;admin.index&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>만약 플루프린트의 뷰 함수나 렌더링되는 템플릿 내에서 같은 블루프린트의 다른 엔드포인트 URL을 만들고 싶을 때는 앞에 점만 찍어도 된다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;.index&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This will link to <code class="docutils literal notranslate"><span class="pre">admin.index</span></code> for instance in case the current request
was dispatched to any other admin blueprint endpoint.</p>
</div>
<div class="section" id="error-handlers">
<h2>에러 핸들러<a class="headerlink" href="#error-handlers" title="제목 주소">¶</a></h2>
<p>블루프린트는 <a class="reference internal" href="api.html#flask.Flask" title="flask.Flask"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flask</span></code></a> 애플리케이션 객체처럼 에러핸들러 데코레이터를 지원한다. 따라서 블루프린터 전용의 에러 페이지를 쉽게 만들 수 있다.</p>
<p>다음은  &quot;404 Page Not Found&quot; 예외에 대한 예다.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@simple_page</span><span class="o">.</span><span class="n">errorhandler</span><span class="p">(</span><span class="mi">404</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">page_not_found</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;pages/404.html&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>대부분의 에러핸들러는 기대한대로 동작한다. 하지만  404와 405 예외의 경우에는 조심해야 한다. 이 에러핸들러들은 잘못된 URL 접근만이 아니라 코드 내의  <code class="docutils literal notranslate"><span class="pre">raise</span></code> 문,또는 다른 블루프린트 뷰 함수에서  <code class="docutils literal notranslate"><span class="pre">abort</span></code>를 해도 호출된다. 블루프린트는 그 자신만의 URL 공간을 가지고 있지 않기 때문이다. 따라서 잘못된 URL이 들어왔을 때 어느 블루프린트의 에러핸들러가 호출되어야 하는지 알 수 없다. 만약 URL 접두사에 따라 이 에러 핸들링을 다르게 하고 싶으면 애플리케이션 레벨에서 <code class="docutils literal notranslate"><span class="pre">request</span></code> 프록시 객체를 사용해야 한다.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">errorhandler</span><span class="p">(</span><span class="mi">404</span><span class="p">)</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">errorhandler</span><span class="p">(</span><span class="mi">405</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">_handle_api_error</span><span class="p">(</span><span class="n">ex</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;/api/&#39;</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">jsonify_error</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">ex</span>
</pre></div>
</div>
<p>에러 핸들링에 대한 자세한 정보는 <a class="reference internal" href="patterns/errorpages.html#errorpages"><span class="std std-ref">Custom Error Pages</span></a>를 참조한다.</p>
</div>
</div>


          </div>
        </div>
      </div>
  <span id="sidebar-top"></span>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/flask-logo-sidebar.png" alt="Logo"/>
            </a></p>
  

  <h3>Contents</h3>
  <ul>
<li><a class="reference internal" href="#">블루프린트를 사용한 모듈형 애플리케이션</a><ul>
<li><a class="reference internal" href="#why-blueprints">왜 블루프린트를 사용하는가?</a></li>
<li><a class="reference internal" href="#the-concept-of-blueprints">블루프린트의 개념</a></li>
<li><a class="reference internal" href="#my-first-blueprint">첫번째 블루프린트</a></li>
<li><a class="reference internal" href="#registering-blueprints">블루프린트 등록</a></li>
<li><a class="reference internal" href="#blueprint-resources">블루프린트 리소스</a><ul>
<li><a class="reference internal" href="#blueprint-resource-folder">블루프린트 리소스 폴더</a></li>
<li><a class="reference internal" href="#static-files">스태틱 파일</a></li>
<li><a class="reference internal" href="#templates">템플릿</a></li>
</ul>
</li>
<li><a class="reference internal" href="#building-urls">URL 생성</a></li>
<li><a class="reference internal" href="#error-handlers">에러 핸들러</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul>
  <li><a href="index.html">Overview</a>
    <ul>
          <li>Previous: <a href="reqcontext.html" title="이전 장">The Request Context</a>
          <li>Next: <a href="extensions.html" title="다음 장">Extensions</a>
    </ul>
  </li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3>빠른 검색</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="바로 가기" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2010 Pallets Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
  </body>
</html>